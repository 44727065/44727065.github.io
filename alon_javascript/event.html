<!DOCTYPE html>
<html>
    <head>
    </head>
    <body>
        <script>
            function hello(){
                console.log("Hello world");
            }

            // document.addEventListener('click', hello, false);
            // document.addEventListener('click', hello, false);
        </script>
        <p>a</p>
        <p>b</p>
        <script>
            var para = document.querySelectorAll("p")[0];
            para.addEventListener('click',hello,false);
            var event = new Event('click');
            para.dispatchEvent(event);

            // 事件的传播
            // 传播的三个阶段
            // 捕获，从window 对象传导到目标节点，称为捕获阶段
            // 在目标节点上触发，目标阶段
            // 从目标节点传导回window对象，称为 冒泡阶段


        </script>

        <div>
            <p>Click me</p>
        </div>
        <script>
            var phases = {
                1: 'capture',
                2: 'target' ,
                3: 'bubble'
            }

            var div = document.querySelector("div");
            var p = div.querySelector("p");

            div.addEventListener('click',callback,true);
            p.addEventListener('click',callback,true);
            div.addEventListener('click',callback,false);
            p.addEventListener('click',callback,false);

            function callback(event){
                var tag = event.currentTarget.tagName;
                var phase = phases[event.eventPhase];
                console.log("Tag:'" + tag + "',eventPhase:" + phase);

            }


        </script>

    </body>
</html>
