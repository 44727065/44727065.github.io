<!DOCTYPE html>
<html>
        <head>
        </head>
        <body>
            <script>
                    var xhr = new XMLHttpRequest(); // 实例化一个对象
                    xhr.responseType = 'text';
                    // 指定状态改变时的回调函数
                    xhr.onreadystatechange = function(){
                        // 通信成功时，状态为4
                        if(xhr.readyState === 4){
                            if(xhr.status === 200){
                                console.log(typeof xhr.response)
                            }else{
                                console.error(xhr.statusText);
                            }
                        }
                    }
                    xhr.onerror = function(e){
                        console.log(xhr.statusText);
                    }

                    // open 方式用语指定的 HTTP 动词，请求的网址、是否异步
                    xhr.open('GET','/a.txt',true);

                    // 发送 HTTP 请求
                    xhr.send(null);






            </script>
            <progress min="0" max="100" value="0">0% complete</progress>
            <script>
                function upload(blobOrFile) {
                var xhr = new XMLHttpRequest();
                xhr.open('POST', '/a.txt', true);
                xhr.onload = function(e) { };

                // Listen to the upload progress.
                var progressBar = document.querySelector('progress');
                xhr.upload.onprogress = function(e) {
                    if (e.lengthComputable) {
                    progressBar.value = (e.loaded / e.total) * 100;
                    progressBar.textContent = progressBar.value; // Fallback for unsupported browsers.
                    }
                };

                xhr.send(blobOrFile);
                }

                upload(new Blob(['hello world'], {type: 'text/plain'}));
            </script>
        </body>
</html>
