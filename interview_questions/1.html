<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf8">
    </head>
    <body>
        <script>
            // 基本数组去重
            Array.prototype.unique = function(){
                var result= [];
                this.forEach(function(value) {
                    // 通过indexof检索看有没有
                    if(result.indexOf(value) < 0){
                        result.push(value);
                    }
                });
                return result;
            }
            //console.log([1,1,1,4,4,66,8].unique())

            // 利用hash表去重
            Array.prototype.unique2 = function(){
                var result=[],hash={};
                this.forEach(function(value){
                    var type = typeof(value); // 获取元素类型
                    //hash[value] || (hash[value] = new Array());
                    if(!hash[value]){hash[value] = new Array()};
                    if(hash[value].indexOf(type) < 0){
                        hash[value].push(type); // 存储类型
                        result.push(value);
                    }
                });
                console.log(hash);
                return result;
            }
            console.log([99,9,999,9,9,10].unique2());

            // 先排序 后去重
            Array.prototype.unique3 = function(){
                var result = [this[0]];
                this.sort();
                console.log(this);
                this.forEach(function(v){
                    if(v != result[result.length -1 ]){ result.push(v)}; //仅与result最后一个元素比较
                })
                return result;
            };

            console.log([9,9,9,'9','10'].unique3());


        </script>
    </body>
</html>
