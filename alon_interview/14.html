<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf8">
    </head>
    <body>
        <p>JavaScript 中的 number 类型就是浮点型，JavaScript 中的浮点数采用IEEE-754 格式的规定，这是一种二进制表示法，可以精确地表示分数，比如1/2，1/8，1/1024，每个浮点数占64位。但是，二进制浮点数表示法并不能精确的表示类似0.1这样 的简单的数字，会有舍入误差。</p>
        <script>
            console.log(0.1+0.2);
            console.log(0.1+0.2 == 0.3)
        </script>
        <p>如何保证浮点数计算的正确性。</p>
        <h2>方法一：先升幂再降幂</h2>
        <script>
            //'use strict';
            function add(num1,num2){
                let r1,r2,m;
                r1 = (''+ num1 ).split('.')[1].length;
                console.log(r1);
                r2 = ('' + num2).split('.')[1].length;
                console.log(r2);
                // Matg.pow(底数，幂)
                m = Math.pow(10,Math.max(r1,r2)); // Math.max(a,b) 算出两个中最大的一个
                console.log(m);
                return (num1 * m + num2 * m)/m;
            }

            console.log(add(11.1,1.222));
        </script>
        <h2>使用内置的  toPrecision() 和 toFixed() 方法,返回的是字符串</h2>
        <script>
            function add(x, y) {
                return x.toPrecision() + y.toPrecision()
            }
            console.log(add(0.1,0.2));
        </script>
    </body>
</html>
